"use strict";(self["webpackChunkgamea"]=self["webpackChunkgamea"]||[]).push([[392],{8392:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view-style",style:"background-image:url("+s(7346)+")"},[r("div",{staticClass:"main-style",on:{click:function(t){return e.routerEvent("ModeSelection")}}},[e._v("《返回")]),r("div",{staticClass:"money-style"},[r("span",{staticStyle:{"margin-left":"30px",color:"#c4d1df"}},[e._v("光点 "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.currentArchive.property.type_1))])]),r("span",{staticStyle:{"margin-left":"30px",color:"#ffd9fa"}},[e._v("樱饼 "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.currentArchive.property.type_2))])])]),r("div",{staticClass:"shop-style"},[r("div",{staticClass:"shop-left"},[r("div",{staticClass:"shop-type-1",style:"line-height:"+e.lineHeight.lh1+"px"+(1==e.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-1"},on:{click:function(t){return e.tabEvent(1)}}},[e._v("卡牌")]),r("div",{staticClass:"shop-type-2",style:"line-height:"+e.lineHeight.lh1+"px"+(2==e.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-2"},on:{click:function(t){return e.tabEvent(2)}}},[e._v("背景图")]),r("div",{staticClass:"shop-type-3",style:"line-height:"+e.lineHeight.lh1+"px"+(3==e.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-3"},on:{click:function(t){return e.tabEvent(3)}}},[e._v("卡牌装饰")])]),r("div",{staticClass:"shop-right"},[1==e.currentTab?r("div",{ref:"shop-item-id1",staticClass:"shop-item-1",attrs:{id:"shop-item-id1"},on:{mousewheel:e.shopRightWheelEvent}},e._l(e.shopDeckList,(function(t,s){return r("div",{key:t.id,staticClass:"shop-deck-style"},[r("div",{staticClass:"shop-deck-item-1",style:"background-image:url("+t.backImageTop+"),url("+t.backImageBottom+")"}),r("div",{staticClass:"shop-deck-item-2",style:"color:"+t.currency.color+";cursor:"+(t.price<e.currentArchive.property[t.currency.category]?"pointer":"not-allowed"),on:{click:function(r){return e.buyDeckEvent(r,t,s)}}},[e._v(e._s(t.price+t.currency.type))]),r("div",{staticClass:"shop-deck-item-3",style:"background-image:url("+t.camp+")"}),r("div",{staticClass:"shop-deck-item-4"})])})),0):e._e(),2==e.currentTab?r("div",{ref:"shop-item-id2",staticClass:"shop-item-2",attrs:{id:"shop-item-id2"},on:{mousewheel:e.shopRightWheelEvent}},e._l(e.shopBackList,(function(t,s){return r("div",{key:t.id,staticClass:"shop-deck-style"},[r("div",{staticClass:"shop-deck-item-1",style:"background-image:url("+t.imgUrl+")"}),r("div",{staticClass:"shop-deck-item-2",style:"color:"+t.currency.color+";cursor:"+(t.price<e.currentArchive.property[t.currency.category]?"pointer":"not-allowed"),on:{click:function(r){return e.buyDeckBackEvent(r,t,s)}}},[e._v(e._s(t.price+t.currency.type))])])})),0):e._e(),3==e.currentTab?r("div",{ref:"shop-item-id3",staticClass:"shop-item-3",attrs:{id:"shop-item-id3"},on:{mousewheel:e.shopRightWheelEvent}}):e._e()])])])},i=[],c=s(1190),o=s(1051),n=s(6955),a=s(4806),h=s.n(a),l={name:"ShopDeck",data(){return{lineHeight:{lh1:0},shopDeckList:[],shopBackList:[],currentTab:1,currentBorder:{borderTop:"2px solid honeydew",borderBottom:"2px solid honeydew",borderLeft:"2px solid honeydew"}}},computed:{currentArchive(){return this.$store.state.archive.archive}},mounted(){this.lineHeightInit(),this.getDeckList()},methods:{routerEvent(e){this.$router.push({name:e})},lineHeightInit(){const e=document.getElementById("shop-type-1");this.lineHeight.lh1=e.offsetHeight},getDeckList(){(0,c.B$)().then((e=>{var t=e,s=this.$store.state.archive.archive;0==s.own_cards.length?this.shopDeckList=h().cloneDeep(t):s.own_cards.length<e.length?(s.own_cards.forEach(((e,s)=>{h().remove(t,(t=>t.id==e))})),this.shopDeckList=h().cloneDeep(t)):s.own_cards.length==e.length&&(this.shopDeckList=[])}))},getDeckBackList(){(0,c.Z3)().then((e=>{var t=e,s=this.$store.state.archive.archive;0==s.unlock_background.length?this.shopBackList=h().cloneDeep(t):s.unlock_background.length<e.length?(s.unlock_background.forEach(((e,s)=>{h().remove(t,(t=>t.id==e))})),this.shopBackList=h().cloneDeep(t)):s.own_cards.length==e.length&&(this.shopBackList=[])}))},shopRightWheelEvent(e){e.wheelDelta<0&&this.$refs[`shop-item-id${this.currentTab}`].scrollWidth-this.$refs[`shop-item-id${this.currentTab}`].scrollLeft>24&&(this.$refs[`shop-item-id${this.currentTab}`].scrollLeft=this.$refs[`shop-item-id${this.currentTab}`].scrollLeft+20),e.wheelDelta>0&&this.$refs[`shop-item-id${this.currentTab}`].scrollLeft>0&&(this.$refs[`shop-item-id${this.currentTab}`].scrollLeft=this.$refs[`shop-item-id${this.currentTab}`].scrollLeft-20)},buyDeckEvent(e,t,s){if("not-allowed"==e.srcElement.style.cursor)return"";if("pointer"==e.srcElement.style.cursor){var r=this.$store.state.archive.archive;r.own_cards.push(t.id),r.property[t.currency.category]=r.property[t.currency.category]-t.price,this.$store.dispatch("addArchive",r),sessionStorage.setItem("Temporary_Archive",(0,o.s)(JSON.stringify(r))),(0,n.pi)(),h().pullAt(this.shopDeckList,s)}},buyDeckBackEvent(e,t,s){if("not-allowed"==e.srcElement.style.cursor)return"";if("pointer"==e.srcElement.style.cursor){var r=this.$store.state.archive.archive;r.unlock_background.push(t.id),r.property[t.currency.category]=r.property[t.currency.category]-t.price,this.$store.dispatch("addArchive",r),sessionStorage.setItem("Temporary_Archive",(0,o.s)(JSON.stringify(r))),(0,n.pi)(),h().pullAt(this.shopBackList,s)}},tabEvent(e){switch(e){case 1:this.currentTab=1,this.getDeckList();break;case 2:this.currentTab=2,this.getDeckBackList();break;case 3:this.currentTab=3;break;default:break}}}},p=l,u=s(1001),d=(0,u.Z)(p,r,i,!1,null,"2c0e6ad4",null),f=d.exports}}]);
//# sourceMappingURL=392.1a505c9f.js.map