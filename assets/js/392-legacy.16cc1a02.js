"use strict";(self["webpackChunkgamea"]=self["webpackChunkgamea"]||[]).push([[392],{8392:function(t,e,r){r.r(e),r.d(e,{default:function(){return f}});var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view-style",style:"background-image:url("+r(7346)+")"},[s("div",{staticClass:"main-style",on:{click:function(e){return t.routerEvent("ModeSelection")}}},[t._v("《返回")]),s("div",{staticClass:"money-style"},[s("span",{staticStyle:{"margin-left":"30px",color:"#c4d1df"}},[t._v("光点 "),s("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.currentArchive.property.type_1))])]),s("span",{staticStyle:{"margin-left":"30px",color:"#ffd9fa"}},[t._v("樱饼 "),s("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.currentArchive.property.type_2))])])]),s("div",{staticClass:"shop-style"},[s("div",{staticClass:"shop-left"},[s("div",{staticClass:"shop-type-1",style:"line-height:"+t.lineHeight.lh1+"px"+(1==t.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-1"},on:{click:function(e){return t.tabEvent(1)}}},[t._v("卡牌")]),s("div",{staticClass:"shop-type-2",style:"line-height:"+t.lineHeight.lh1+"px"+(2==t.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-2"},on:{click:function(e){return t.tabEvent(2)}}},[t._v("背景图")]),s("div",{staticClass:"shop-type-3",style:"line-height:"+t.lineHeight.lh1+"px"+(3==t.currentTab?";background-color:#f0fff080":";background-color:#f0fff033"),attrs:{id:"shop-type-3"},on:{click:function(e){return t.tabEvent(3)}}},[t._v("卡牌装饰")])]),s("div",{staticClass:"shop-right"},[1==t.currentTab?s("div",{ref:"shop-item-id1",staticClass:"shop-item-1",attrs:{id:"shop-item-id1"},on:{mousewheel:t.shopRightWheelEvent}},t._l(t.shopDeckList,(function(e,r){return s("div",{key:e.id,staticClass:"shop-deck-style"},[s("div",{staticClass:"shop-deck-item-1",style:"background-image:url("+e.backImageTop+"),url("+e.backImageBottom+")"}),s("div",{staticClass:"shop-deck-item-2",style:"color:"+e.currency.color+";cursor:"+(e.price<t.currentArchive.property[e.currency.category]?"pointer":"not-allowed"),on:{click:function(s){return t.buyDeckEvent(s,e,r)}}},[t._v(t._s(e.price+e.currency.type))]),s("div",{staticClass:"shop-deck-item-3",style:"background-image:url("+e.camp+")"}),s("div",{staticClass:"shop-deck-item-4"})])})),0):t._e(),2==t.currentTab?s("div",{ref:"shop-item-id2",staticClass:"shop-item-2",attrs:{id:"shop-item-id2"},on:{mousewheel:t.shopRightWheelEvent}},t._l(t.shopBackList,(function(e,r){return s("div",{key:e.id,staticClass:"shop-deck-style"},[s("div",{staticClass:"shop-deck-item-1",style:"background-image:url("+e.imgUrl+")"}),s("div",{staticClass:"shop-deck-item-2",style:"color:"+e.currency.color+";cursor:"+(e.price<t.currentArchive.property[e.currency.category]?"pointer":"not-allowed"),on:{click:function(s){return t.buyDeckBackEvent(s,e,r)}}},[t._v(t._s(e.price+e.currency.type))])])})),0):t._e(),3==t.currentTab?s("div",{ref:"shop-item-id3",staticClass:"shop-item-3",attrs:{id:"shop-item-id3"},on:{mousewheel:t.shopRightWheelEvent}}):t._e()])])])},c=[],i=(r(1539),r(4747),r(8862),r(1190)),o=r(1051),n=r(6955),a=r(4806),h=r.n(a),l={name:"ShopDeck",data:function(){return{lineHeight:{lh1:0},shopDeckList:[],shopBackList:[],currentTab:1,currentBorder:{borderTop:"2px solid honeydew",borderBottom:"2px solid honeydew",borderLeft:"2px solid honeydew"}}},computed:{currentArchive:function(){return this.$store.state.archive.archive}},mounted:function(){this.lineHeightInit(),this.getDeckList()},methods:{routerEvent:function(t){this.$router.push({name:t})},lineHeightInit:function(){var t=document.getElementById("shop-type-1");this.lineHeight.lh1=t.offsetHeight},getDeckList:function(){var t=this;(0,i.B$)().then((function(e){var r=e,s=t.$store.state.archive.archive;0==s.own_cards.length?t.shopDeckList=h().cloneDeep(r):s.own_cards.length<e.length?(s.own_cards.forEach((function(t,e){h().remove(r,(function(e){return e.id==t}))})),t.shopDeckList=h().cloneDeep(r)):s.own_cards.length==e.length&&(t.shopDeckList=[])}))},getDeckBackList:function(){var t=this;(0,i.Z3)().then((function(e){var r=e,s=t.$store.state.archive.archive;0==s.unlock_background.length?t.shopBackList=h().cloneDeep(r):s.unlock_background.length<e.length?(s.unlock_background.forEach((function(t,e){h().remove(r,(function(e){return e.id==t}))})),t.shopBackList=h().cloneDeep(r)):s.own_cards.length==e.length&&(t.shopBackList=[])}))},shopRightWheelEvent:function(t){t.wheelDelta<0&&this.$refs["shop-item-id".concat(this.currentTab)].scrollWidth-this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft>24&&(this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft=this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft+20),t.wheelDelta>0&&this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft>0&&(this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft=this.$refs["shop-item-id".concat(this.currentTab)].scrollLeft-20)},buyDeckEvent:function(t,e,r){if("not-allowed"==t.srcElement.style.cursor)return"";if("pointer"==t.srcElement.style.cursor){var s=this.$store.state.archive.archive;s.own_cards.push(e.id),s.property[e.currency.category]=s.property[e.currency.category]-e.price,this.$store.dispatch("addArchive",s),sessionStorage.setItem("Temporary_Archive",(0,o.s)(JSON.stringify(s))),(0,n.pi)(),h().pullAt(this.shopDeckList,r)}},buyDeckBackEvent:function(t,e,r){if("not-allowed"==t.srcElement.style.cursor)return"";if("pointer"==t.srcElement.style.cursor){var s=this.$store.state.archive.archive;s.unlock_background.push(e.id),s.property[e.currency.category]=s.property[e.currency.category]-e.price,this.$store.dispatch("addArchive",s),sessionStorage.setItem("Temporary_Archive",(0,o.s)(JSON.stringify(s))),(0,n.pi)(),h().pullAt(this.shopBackList,r)}},tabEvent:function(t){switch(t){case 1:this.currentTab=1,this.getDeckList();break;case 2:this.currentTab=2,this.getDeckBackList();break;case 3:this.currentTab=3;break;default:break}}}},u=l,p=r(1001),d=(0,p.Z)(u,s,c,!1,null,"2c0e6ad4",null),f=d.exports}}]);
//# sourceMappingURL=392-legacy.16cc1a02.js.map