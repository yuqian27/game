"use strict";(self["webpackChunkgamea"]=self["webpackChunkgamea"]||[]).push([[588],{9588:function(t,e,s){s.r(e),s.d(e,{default:function(){return k}});var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-style",style:"background-image:url("+s(7346)+")"},[a("div",{staticClass:"a"},[a("table",{staticClass:"b"},[a("tbody",t._l(3,(function(e){return a("tr",{key:e},t._l(10,(function(i){return a("td",{key:i,staticClass:"c",style:"border-radius: 10px;"+(0==t.list[1==e?i-1:2==e?10+i-1:20+i-1]?"":"background-image:url("+s(1940)+"),url("+s(6523)+")"),attrs:{id:"back"+(1==e?i:2==e?10+i:20+i),"data-item":t.list[1==e?i-1:2==e?10+i-1:20+i-1]},on:{click:function(s){return t.showDeck(s,1==e?i:2==e?10+i:20+i)}}})})),0)})),0)])]),t.showBattle?a("battle-picture",{staticClass:"battle_picture"}):t._e()],1)},i=[],l=s(1980),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"curtainstyle",attrs:{id:"curtainstyle"}},[a("div",{staticClass:"monster_blood_volume"},[a("div",{staticClass:"monster_blood_volume_1",attrs:{id:"monster_blood_volume_1"}}),a("div",{staticClass:"monster_blood_volume_2",attrs:{id:"monster_blood_volume_2"}}),a("div",{staticClass:"monster_blood_volume_3"},[t._v(t._s(t.monster_name)+"·"+t._s(t.hp)+"|"+t._s(t.current_hp))]),t._m(0)]),a("div",{staticClass:"curtainstyle_1",style:"background-image:url("+s(2906)+"),url("+s(6335)+")",attrs:{id:"curtainstyle_1"}}),a("div",{staticClass:"playerstatustyle"},t._l(t.player_statuslist,(function(e,s){return a("div",{key:s,staticClass:"playerstatusitemtyle",style:"background-image:url("+e.image+")",attrs:{id:"status"+s},on:{mouseenter:function(s){return t.statusmouseenterevent(s,e)},mouseleave:function(s){return t.statusmouseleaveevent(s,e)}}})})),0),a("div",{staticClass:"curtainstyle_2"},t._l(t.num,(function(e,i){return a("svg",{key:e.id,staticClass:"cardstyle",style:"background-image:url("+s(3554)+");z-index:"+(i+1),attrs:{id:"card"+i},on:{mouseenter:function(e){return t.cardmouseenterevent(e,i)},mouseleave:function(e){return t.cardmouseleaveevent(e,i)},click:function(s){return t.cardclickevent(s,e,i)}}},[a("image",{staticClass:"cardbackgroundstyle",attrs:{width:"100%",height:"100%","xlink:href":""+e.plate}}),a("def",[a("path",{attrs:{id:"pt1",d:"M5 18 L40 18",fill:"none"}})]),a("foreignObject",{staticClass:"fo1style",attrs:{x:"0",y:"0",width:"100%",height:"100%"}},[a("p",{staticClass:"cardeffectstyle",domProps:{innerHTML:t._s(e.card_effect)}})]),a("image",{attrs:{x:"0",y:"0",width:"100%",height:"20%","xlink:href":e.decorate}}),a("line",{attrs:{x1:"5%",y1:"23%",x2:"5%",y2:"90%",stroke:e.line_color,"stroke-width":"1"}}),a("text",[t.playing_order_show?a("textPath",{staticClass:"playing_order",attrs:{fill:"black","xlink:href":"#pt1"}},[t._v(t._s(0==t.playing_order[i]?"":t.playing_order[i]))]):t._e()])],1)})),0),a("div",{staticClass:"outcardstyle",on:{click:t.outcard}},[t._v("出 牌")]),a("div",{staticClass:"messagestyle"},t._l(t.msglist,(function(e,s){return a("p",{key:s,staticClass:"msgitemstyle",domProps:{innerHTML:t._s(e)}})})),0),t._m(1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"monster_blood_volume_4"},[s("div",{staticClass:"monster_blood_volume_5",attrs:{id:"monster_blood_volume_5"}}),s("div",{staticClass:"monster_blood_volume_6",attrs:{id:"monster_blood_volume_6"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"playerstyle"},[s("div",{staticClass:"playerhp"}),s("div",{staticClass:"playermp"})])}];async function o(t,e,s){var a=document.getElementsByClassName("curtainstyle_2")[0],i=document.getElementById(`card${t}`);return await l.p8.to(`#card${t}`,.2,{zIndex:44,left:a.offsetWidth/2-i.clientWidth/2,top:"-230%",rotateY:"360deg"}),c(e,s)}function c(t,e){switch(t.type){case"基础卡":return{msg:`您对<span style="color:#c000ffd1;font-size:25px;font-family:Hywb"> ${e} </span>造成<span style="color:red"> ${t.value} </span>点伤害!`,value:t.value};default:break}}var d=s(4806),u=s.n(d),m=s(6955),h={data(){return{monster_name:"羽蛇神",hp:1e6,current_hp:1e6,num:[{type:"基础卡",id:1,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:2,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:3,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:4,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:5,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:6,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:7,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100}],playing_order:[0,0,0,0,0,0,0],clearcarlist:[],selectcard:0,stacknum:0,stacklist:[],playing_order_show:!0,zIndex:0,msglist:[],message:"",player_statuslist:[{titlecolor:"#C60000",name:"超新星爆炸",image:s(7540)},{titlecolor:"#6600C6",name:"玄冥星系",image:s(5966)},{titlecolor:"#3EA300",name:"万物天生",image:s(2027)}],allow:!1,start_end:!1}},watch:{num(t,e){if(t.length<=7)t.forEach(((t,e)=>{this.$nextTick((()=>{document.getElementById(`card${e}`).style.left=140*e+"px"}))}));else{var s=document.getElementsByClassName("curtainstyle_2")[0].offsetWidth,a=8==t.length?0:(120*t.length-s)/(t.length-1);t.forEach(((t,e)=>{this.$nextTick((()=>{e>0&&(document.getElementById(`card${e}`).style.left=(120-a)*e+"px")}))}))}},player_statuslist(t,e){t.forEach(((t,e)=>{this.$nextTick((()=>{e>0&&(document.getElementById(`status${e}`).style.left=60*e+"px")}))}))},msglist(t,e){this.$nextTick((()=>{document.getElementsByClassName("messagestyle")[0].scrollTop=document.getElementsByClassName("messagestyle")[0].scrollHeight}))},current_hp(t,e){var s=document.getElementsByClassName("monster_blood_volume_1")[0],a=document.getElementsByClassName("monster_blood_volume_2")[0];a.style.width=t/this.hp*100+"%",setTimeout((()=>{s.style.width=t/this.hp*100+"%"}),200),this.$nextTick((()=>{this.msglist.push(this.message)}))},start_end(t,e){if(0==t){this.playing_order=[],this.num=u().differenceWith(this.num,this.clearcarlist);for(let t=0;t<this.num.length;t++)this.playing_order.push(0)}}},mounted(){this.num.forEach(((t,e)=>{this.$nextTick((()=>{e>0&&(e==this.num.length-1&&(this.allow=!0),l.p8.to(`#card${e}`,.5,{left:140*e}))}))})),this.player_statuslist.forEach(((t,e)=>{this.$nextTick((()=>{e>0&&(document.getElementById(`status${e}`).style.left=60*e+"px")}))})),this.$nextTick((()=>{l.p8.to("#curtainstyle_1",1,{transform:"scale(1,1)"}),l.p8.to("#monster_blood_volume_1",1,{width:"100%"}),l.p8.to("#monster_blood_volume_2",1,{width:"100%"}),l.p8.to("#monster_blood_volume_5",1,{width:"100%"}),l.p8.to("#monster_blood_volume_6",1,{width:"100%"})}))},methods:{outcard(){if(0==this.selectcard)return this.stacknum=0,this.start_end=!1,!1;{this.start_end=!0,this.selectcard-=1,this.stacknum+=1;const t=this.playing_order.indexOf(this.stacknum);o(t,this.num[t],this.monster_name).then((async e=>{this.clearcarlist.push(this.num[t]),this.current_hp-=e.value,this.message=e.msg,await l.p8.to(`#card${this.playing_order.indexOf(this.stacknum)}`,.2,{delay:.6,opacity:0,onComplete:()=>{this.playing_order[this.playing_order.indexOf(this.stacknum)]=0,this.outcard()}})}))}},cardmouseenterevent(t,e){this.zIndex=document.getElementById(`card${e}`).style.zIndex,document.getElementById(`card${e}`).style.zIndex=44},cardmouseleaveevent(t,e){document.getElementById(`card${e}`).zIndex=this.zIndex},statusmouseenterevent(t,e){(0,m.Ud)(document.getElementById("curtainstyle"),e),l.p8.to("#"+t.target.id,10,{rotate:"360deg"})},statusmouseleaveevent(t,e){(0,m.Ud)(document.getElementById("curtainstyle"),e),l.p8.killTweensOf(t.target),l.p8.to("#"+t.target.id,.2,{rotate:"0deg"})},cardclickevent(t,e,s){if(1==this.start_end)return!1;this.playing_order_show=!1;var a=this.playing_order[s];if(0==this.playing_order[s])this.selectcard+=1,document.getElementById(`card${s}`).style.boxShadow=`0px 0px 5px 5px ${e.line_color}`,this.playing_order[s]=Math.max.apply(null,this.playing_order)+1;else{this.selectcard-=1,document.getElementById(`card${s}`).style.boxShadow="",this.playing_order[s]=0;for(let t=0;t<this.playing_order.length;t++)0!==this.playing_order[t]&&this.playing_order[t]>a&&(this.playing_order[t]=this.playing_order[t]-1)}this.playing_order_show=!0}}},p=h,_=s(1001),f=(0,_.Z)(p,n,r,!1,null,"2f844304",null),y=f.exports,g={components:{BattlePicture:y},name:"CombatMain",data(){return{list:[],audio:null,showBattle:!1,cardshow:!1}},mounted(){this.init()},methods:{routerEvent(t){this.$router.push({name:t})},init(){this.list=[];for(let t=1;t<=30;t++)t<=10&&(1==Math.round(Math.random())?this.list.push(t):this.list.push(0)),t>10&&t<21&&(-1==this.list.indexOf(t-10)||1==Math.round(Math.random())?this.list.push(t):this.list.push(0)),t>20&&(-1==this.list.indexOf(t-10)?this.list.push(t):-1!==this.list.indexOf(t-10)&&-1!==this.list.indexOf(t-20)?1==Math.round(Math.random())?this.list.push(t):this.list.push(0):-1!==this.list.indexOf(t-10)&&-1==this.list.indexOf(t-20)&&this.list.push(t))},showDeck(t,e){0==this.cardshow&&(this.cardshow=!0,l.p8.to(`#back${e}`,.5,{backgroundPosition:"-200% 50%,50% 50%",onComplete:()=>{this.showBattle=!0}}))}}},v=g,x=(0,_.Z)(v,a,i,!1,null,"94e77d06",null),k=x.exports},1585:function(t,e,s){t.exports=s.p+"assets/img/decorate_2.00f5c754.svg"},6665:function(t,e,s){t.exports=s.p+"assets/img/playcard1.7fbaea3e.svg"},2906:function(t,e,s){t.exports=s.p+"assets/img/2-ai.29c657f3.svg"},3554:function(t,e,s){t.exports=s.p+"assets/img/4-ai.cd2d7f8d.svg"},1940:function(t,e,s){t.exports=s.p+"assets/img/card_7_a.573af639.webp"},6523:function(t,e,s){t.exports=s.p+"assets/img/deck_back_4_a.ac04f942.png"},7346:function(t,e,s){t.exports=s.p+"assets/img/home_image_2_a.718f4af1.png"},6335:function(t,e,s){t.exports=s.p+"assets/img/monster1.989ace07.png"},7540:function(t,e,s){t.exports=s.p+"assets/img/status1.5dfc9214.png"},5966:function(t,e,s){t.exports=s.p+"assets/img/status2.99c4e072.png"},2027:function(t,e,s){t.exports=s.p+"assets/img/status3.ae7abf27.png"}}]);
//# sourceMappingURL=588.45d636fe.js.map