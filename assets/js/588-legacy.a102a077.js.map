{"version":3,"file":"assets/js/588-legacy.a102a077.js","mappings":"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","sources":["webpack://gamea/./src/views/CombatSystem/CombatMain.vue?46a2","webpack://gamea/./src/components/BattlePicture.vue?5f13","webpack://gamea/./src/api/battle.js","webpack://gamea/src/components/BattlePicture.vue","webpack://gamea/./src/components/BattlePicture.vue?4503","webpack://gamea/./src/components/BattlePicture.vue","webpack://gamea/src/views/CombatSystem/CombatMain.vue","webpack://gamea/./src/views/CombatSystem/CombatMain.vue?d190","webpack://gamea/./src/views/CombatSystem/CombatMain.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"view-style\",style:((\"background-image:url(\" + (require('@/assets/image/main_back/home_image_2_a.png')) + \")\"))},[_c('div',{staticClass:\"a\"},[_c('table',{staticClass:\"b\"},[_c('tbody',_vm._l((3),function(item){return _c('tr',{key:item},_vm._l((10),function(itemt){return _c('td',{key:itemt,staticClass:\"c\",style:((\"border-radius: 10px;\" + (_vm.list[item==1?itemt-1:item==2?10+itemt-1:20+itemt-1]==0?'':'background-image:url('+require('@/assets/image/card/card_7_a.webp')+'),url('+require('@/assets/image/deck_back/deck_back_4_a.png')+')'))),attrs:{\"id\":(\"back\" + (item==1?itemt:item==2?10+itemt:20+itemt)),\"data-item\":_vm.list[item==1?itemt-1:item==2?10+itemt-1:20+itemt-1]},on:{\"click\":function($event){return _vm.showDeck($event,item==1?itemt:item==2?10+itemt:20+itemt)}}})}),0)}),0)])]),(_vm.showBattle)?_c('battle-picture',{staticClass:\"battle_picture\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"curtainstyle\",attrs:{\"id\":\"curtainstyle\"}},[_c('div',{staticClass:\"monster_blood_volume\"},[_c('div',{staticClass:\"monster_blood_volume_1\",attrs:{\"id\":\"monster_blood_volume_1\"}}),_c('div',{staticClass:\"monster_blood_volume_2\",attrs:{\"id\":\"monster_blood_volume_2\"}}),_c('div',{staticClass:\"monster_blood_volume_3\"},[_vm._v(_vm._s(_vm.monster_name)+\"·\"+_vm._s(_vm.hp)+\"|\"+_vm._s(_vm.current_hp))]),_vm._m(0)]),_c('div',{staticClass:\"curtainstyle_1\",style:((\"background-image:url(\" + (require('@/assets/svg/2-ai.svg')) + \"),url(\" + (require('@/assets/monster/monster1.png')) + \")\")),attrs:{\"id\":\"curtainstyle_1\"}}),_c('div',{staticClass:\"playerstatustyle\"},_vm._l((_vm.player_statuslist),function(item,index){return _c('div',{key:index,staticClass:\"playerstatusitemtyle\",style:((\"background-image:url(\" + (item.image) + \")\")),attrs:{\"id\":(\"status\" + index)},on:{\"mouseenter\":function($event){return _vm.statusmouseenterevent($event,item)},\"mouseleave\":function($event){return _vm.statusmouseleaveevent($event,item)}}})}),0),_c('div',{staticClass:\"curtainstyle_2\"},_vm._l((_vm.num),function(item,index){return _c('svg',{key:item.id,staticClass:\"cardstyle\",style:((\"background-image:url(\" + (require('@/assets/svg/4-ai.svg')) + \");z-index:\" + (index+1))),attrs:{\"id\":(\"card\" + index)},on:{\"mouseenter\":function($event){return _vm.cardmouseenterevent($event,index)},\"mouseleave\":function($event){return _vm.cardmouseleaveevent($event,index)},\"click\":function($event){return _vm.cardclickevent($event,item,index)}}},[_c('image',{staticClass:\"cardbackgroundstyle\",attrs:{\"width\":\"100%\",\"height\":\"100%\",\"xlink:href\":(\"\" + (item.plate))}}),_c('def',[_c('path',{attrs:{\"id\":\"pt1\",\"d\":\"M5 18 L40 18\",\"fill\":\"none\"}})]),_c('foreignObject',{staticClass:\"fo1style\",attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":\"100%\",\"height\":\"100%\"}},[_c('p',{staticClass:\"cardeffectstyle\",domProps:{\"innerHTML\":_vm._s(item.card_effect)}})]),_c('image',{attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":\"100%\",\"height\":\"20%\",\"xlink:href\":item.decorate}}),_c('line',{attrs:{\"x1\":\"5%\",\"y1\":\"23%\",\"x2\":\"5%\",\"y2\":\"90%\",\"stroke\":item.line_color,\"stroke-width\":\"1\"}}),_c('text',[(_vm.playing_order_show)?_c('textPath',{staticClass:\"playing_order\",attrs:{\"fill\":\"black\",\"xlink:href\":\"#pt1\"}},[_vm._v(_vm._s(_vm.playing_order[index] == 0 ? '' : _vm.playing_order[index]))]):_vm._e()])],1)}),0),_c('div',{staticClass:\"outcardstyle\",on:{\"click\":_vm.outcard}},[_vm._v(\"出 牌\")]),_c('div',{staticClass:\"messagestyle\"},_vm._l((_vm.msglist),function(item,index){return _c('p',{key:index,staticClass:\"msgitemstyle\",domProps:{\"innerHTML\":_vm._s(item)}})}),0),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"monster_blood_volume_4\"},[_c('div',{staticClass:\"monster_blood_volume_5\",attrs:{\"id\":\"monster_blood_volume_5\"}}),_c('div',{staticClass:\"monster_blood_volume_6\",attrs:{\"id\":\"monster_blood_volume_6\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playerstyle\"},[_c('div',{staticClass:\"playerhp\"}),_c('div',{staticClass:\"playermp\"})])}]\n\nexport { render, staticRenderFns }","import * as TweenMax from 'gsap/all'\r\nimport cardeffect from './cardeffect'\r\n\r\n// 随机怪物卡生成\r\nexport async function Monster_Card_Generation(){\r\n    var l = []\r\n    for (let i = 1; i <= 30; i++) {\r\n        l.push(i)\r\n    }\r\n}\r\n\r\n//玩家开始出牌，对手牌进行判定\r\nexport async function judgment_start(id,obj,monster_name){\r\n    var container = document.getElementsByClassName(\"curtainstyle_2\")[0]\r\n    var card = document.getElementById(`card${id}`)\r\n    await TweenMax.gsap.to(`#card${id}`,0.2,{zIndex:44,left:(container.offsetWidth / 2 ) - (card.clientWidth / 2),top:\"-230%\",rotateY:\"360deg\"})\r\n    return card_effect_judgment(obj,monster_name)\r\n}\r\n\r\n//手牌效果判定\r\nexport function card_effect_judgment(obj,monster_name){\r\n    switch (obj.type) {\r\n        case \"基础卡\":\r\n            return {msg:`您对<span style=\"color:#c000ffd1;font-size:25px;font-family:Hywb\"> ${monster_name} </span>造成<span style=\"color:red\"> ${obj.value} </span>点伤害!`,value:obj.value}\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\n// 对当前打出的手牌进行效果判定\r\n/* \r\nid -- 手牌svg的id\r\nitem -- 手牌所携带的内容/效果\r\nmonster_name -- 怪物名称 \r\n*/\r\nexport function judgment_start_current(item,monster_name){\r\n    switch (item.type) {\r\n        case \"基础卡\":\r\n            cardeffect.BasicsCard(item,monster_name)\r\n            break;\r\n    \r\n        default:\r\n            break;\r\n    }\r\n}","<template>\r\n    <div class=\"curtainstyle\" id=\"curtainstyle\">\r\n        <div class=\"monster_blood_volume\">\r\n            <!-- HP -->\r\n            <div class=\"monster_blood_volume_1\" id=\"monster_blood_volume_1\"></div>\r\n            <div class=\"monster_blood_volume_2\" id=\"monster_blood_volume_2\"></div>\r\n            <div class=\"monster_blood_volume_3\">{{monster_name}}·{{hp}}|{{current_hp}}</div>\r\n            <!-- MP -->\r\n            <div class=\"monster_blood_volume_4\">\r\n                <div class=\"monster_blood_volume_5\" id=\"monster_blood_volume_5\"></div>\r\n                <div class=\"monster_blood_volume_6\" id=\"monster_blood_volume_6\"></div>\r\n            </div>\r\n        </div>\r\n        <!-- 怪物 -->\r\n        <div class=\"curtainstyle_1\" id=\"curtainstyle_1\" :style=\"`background-image:url(${require('@/assets/svg/2-ai.svg')}),url(${require('@/assets/monster/monster1.png')})`\"></div>\r\n        <!-- 状态栏 -->\r\n        <div class=\"playerstatustyle\">\r\n            <div v-for=\"(item,index) in player_statuslist\" :key=\"index\" class=\"playerstatusitemtyle\" :style=\"`background-image:url(${item.image})`\" :id=\"`status${index}`\" @mouseenter=\"statusmouseenterevent($event,item)\" @mouseleave=\"statusmouseleaveevent($event,item)\"></div>\r\n        </div>\r\n        <!-- 卡牌区 -->\r\n        <div class=\"curtainstyle_2\">\r\n            <svg class=\"cardstyle\" v-for=\"(item,index) in num\" :id=\"`card${index}`\" :style=\"`background-image:url(${require('@/assets/svg/4-ai.svg')});z-index:${index+1}`\" :key=\"item.id\" @mouseenter=\"cardmouseenterevent($event,index)\" @mouseleave=\"cardmouseleaveevent($event,index)\" @click=\"cardclickevent($event,item,index)\">\r\n                <!-- <foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\"></foreignObject> -->\r\n                <!-- 680,891 -->\r\n                <image class=\"cardbackgroundstyle\" width=\"100%\" height=\"100%\" :xlink:href=\"`${item.plate}`\"></image>\r\n                <def>\r\n                    <path id=\"pt1\" d=\"M5 18 L40 18\" fill=\"none\"/>\r\n                </def>\r\n                <foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" class=\"fo1style\">\r\n                    <p class=\"cardeffectstyle\" v-html=\"item.card_effect\"/>\r\n                </foreignObject>\r\n                <image x=\"0\" y=\"0\" width=\"100%\" height=\"20%\" :xlink:href=\"item.decorate\"></image>\r\n                <line x1=\"5%\" y1=\"23%\" x2=\"5%\" y2=\"90%\" :stroke=\"item.line_color\" stroke-width=\"1\" />\r\n                <text>\r\n                    <textPath class=\"playing_order\" v-if=\"playing_order_show\" fill=\"black\" xlink:href=\"#pt1\">{{playing_order[index] == 0 ? '' : playing_order[index]}}</textPath>\r\n                </text>\r\n            </svg>\r\n        </div>\r\n        <!-- 出牌按钮 -->\r\n        <div class=\"outcardstyle\" @click=\"outcard\">出  牌</div>\r\n        <!-- 消息提示 -->\r\n        <div class=\"messagestyle\">\r\n            <p v-for=\"(item,index) in msglist\" :key=\"index\" class=\"msgitemstyle\" v-html=\"item\"/>\r\n        </div>\r\n        <!-- 玩家状态 -->\r\n        <div class=\"playerstyle\">\r\n            <div class=\"playerhp\"></div>\r\n            <div class=\"playermp\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport '@/assets/font/font.css'\r\nimport * as TweenMax from 'gsap/all'\r\nimport {judgment_start} from '@/api/battle.js'\r\nimport _ from 'lodash'\r\nimport {playerstatuinfo} from '@/api/common.js'\r\n\r\nexport default {\r\n    data(){\r\n        return{\r\n            monster_name:\"羽蛇神\",//怪物名\r\n            hp:1000000,//血量\r\n            current_hp:1000000,//当前血量\r\n            num:[//玩家手牌\r\n                {type:\"基础卡\",id:1,plate:require('@/assets/playercard/playcard1.svg'),decorate:require('@/assets/image/decorate/decorate_2.svg'),line_color:\"#00a6ff\",card_effect:\"对敌方造成<span style='color:red'>100</span>点基础伤害\",value:100},\r\n                {type:\"基础卡\",id:2,plate:require('@/assets/playercard/playcard1.svg'),decorate:require('@/assets/image/decorate/decorate_2.svg'),line_color:\"#00a6ff\",card_effect:\"对敌方造成<span style='color:red'>100</span>点基础伤害\",value:100},\r\n                {type:\"基础卡\",id:3,plate:require('@/assets/playercard/playcard1.svg'),decorate:require('@/assets/image/decorate/decorate_2.svg'),line_color:\"#00a6ff\",card_effect:\"对敌方造成<span style='color:red'>100</span>点基础伤害\",value:100},\r\n                {type:\"基础卡\",id:4,plate:require('@/assets/playercard/playcard1.svg'),decorate:require('@/assets/image/decorate/decorate_2.svg'),line_color:\"#00a6ff\",card_effect:\"对敌方造成<span style='color:red'>100</span>点基础伤害\",value:100},\r\n                {type:\"基础卡\",id:5,plate:require('@/assets/playercard/playcard1.svg'),decorate:require('@/assets/image/decorate/decorate_2.svg'),line_color:\"#00a6ff\",card_effect:\"对敌方造成<span style='color:red'>100</span>点基础伤害\",value:100},\r\n                {type:\"基础卡\",id:6,plate:require('@/assets/playercard/playcard1.svg'),decorate:require('@/assets/image/decorate/decorate_2.svg'),line_color:\"#00a6ff\",card_effect:\"对敌方造成<span style='color:red'>100</span>点基础伤害\",value:100},\r\n                {type:\"基础卡\",id:7,plate:require('@/assets/playercard/playcard1.svg'),decorate:require('@/assets/image/decorate/decorate_2.svg'),line_color:\"#00a6ff\",card_effect:\"对敌方造成<span style='color:red'>100</span>点基础伤害\",value:100},\r\n            ],\r\n            playing_order:[0,0,0,0,0,0,0],//卡牌是否选中\r\n            clearcarlist:[],//需要清理的卡牌\r\n            selectcard:0,//选中卡牌数量\r\n            stacknum:0,//出牌数量\r\n            stacklist:[],//出牌集合\r\n            playing_order_show:true,\r\n            zIndex:0,\r\n            msglist:[],//战斗记录\r\n            message:\"\",\r\n            player_statuslist:[//玩家获取状态\r\n                {titlecolor:\"#C60000\",name:\"超新星爆炸\",image:require('@/assets/playerstatus/status1.png')},\r\n                {titlecolor:\"#6600C6\",name:\"玄冥星系\",image:require('@/assets/playerstatus/status2.png')},\r\n                {titlecolor:\"#3EA300\",name:\"万物天生\",image:require('@/assets/playerstatus/status3.png')},\r\n            ],\r\n            allow:false,\r\n            start_end:false,//开始对局 or 结束对局\r\n        }\r\n    },\r\n    watch:{\r\n        num(nval,oval){\r\n            if(nval.length <= 7){\r\n                nval.forEach((item,index)=>{\r\n                    this.$nextTick(()=>{\r\n                        document.getElementById(`card${index}`).style.left = 140*index+'px'\r\n                        // console.log(TweenMax.gsap.getTweensOf(`#card${index}`));\r\n                        // TweenMax.gsap.to(`#card${index}`,0,{opacity:1,top:'10px'})\r\n                    })//7,43\r\n                })\r\n            }else{\r\n                var divwidth = document.getElementsByClassName('curtainstyle_2')[0].offsetWidth\r\n                var superimposed_value = nval.length == 8 ? 0 : ((120 * nval.length) - divwidth) / (nval.length - 1)\r\n                nval.forEach((item,index)=>{\r\n                    this.$nextTick(()=>{\r\n                        if(index > 0){\r\n                            document.getElementById(`card${index}`).style.left = (120-superimposed_value)*index+'px'\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n        },\r\n        player_statuslist(nval,oval){\r\n            nval.forEach((item,index)=>{\r\n                this.$nextTick(()=>{\r\n                    if(index > 0){\r\n                        document.getElementById(`status${index}`).style.left = 60*index+'px'\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        msglist(nval,oval){\r\n            this.$nextTick(()=>{\r\n                document.getElementsByClassName('messagestyle')[0].scrollTop = document.getElementsByClassName('messagestyle')[0].scrollHeight\r\n            })\r\n        },\r\n        current_hp(nval,oval){\r\n            var current_hp1 = document.getElementsByClassName(\"monster_blood_volume_1\")[0]\r\n            var current_hp2 = document.getElementsByClassName(\"monster_blood_volume_2\")[0]\r\n            current_hp2.style.width = `${(nval / this.hp) * 100}%`\r\n            setTimeout(() => {\r\n                current_hp1.style.width = `${(nval / this.hp) * 100}%`\r\n            }, 200);\r\n            this.$nextTick(()=>{\r\n                this.msglist.push(this.message)\r\n            })\r\n        },\r\n        start_end(nval,oval){\r\n            if(nval == false){\r\n                this.playing_order = []\r\n                this.num = _.differenceWith(this.num,this.clearcarlist)\r\n                for (let i = 0; i < this.num.length; i++) {\r\n                    this.playing_order.push(0)\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n    mounted(){\r\n        this.num.forEach((item,index)=>{\r\n            this.$nextTick(()=>{\r\n                if(index > 0){\r\n                    index == this.num.length - 1 ? this.allow = true : \"\"\r\n                    TweenMax.gsap.to(`#card${index}`,0.5,{left:140*index})\r\n                }\r\n            })//7,43\r\n        })\r\n        this.player_statuslist.forEach((item,index)=>{\r\n            this.$nextTick(()=>{\r\n                if(index > 0){\r\n                    document.getElementById(`status${index}`).style.left = 60*index+'px'\r\n                }\r\n            })//7,43\r\n        })\r\n        this.$nextTick(()=>{\r\n            TweenMax.gsap.to(\"#curtainstyle_1\",1,{transform:\"scale(1,1)\"})\r\n            TweenMax.gsap.to(\"#monster_blood_volume_1\",1,{width:\"100%\"})\r\n            TweenMax.gsap.to(\"#monster_blood_volume_2\",1,{width:\"100%\"})\r\n            TweenMax.gsap.to(\"#monster_blood_volume_5\",1,{width:\"100%\"})\r\n            TweenMax.gsap.to(\"#monster_blood_volume_6\",1,{width:\"100%\"})\r\n        })\r\n    },\r\n    methods:{\r\n        outcard(){//出牌\r\n            if(this.selectcard == 0){\r\n                this.stacknum = 0\r\n                this.start_end = false\r\n                return false\r\n            }else{\r\n                this.start_end = true\r\n                this.selectcard -= 1\r\n                this.stacknum += 1\r\n                const id = this.playing_order.indexOf(this.stacknum)\r\n                judgment_start(id,this.num[id],this.monster_name).then(async (obj)=>{\r\n                    this.clearcarlist.push(this.num[id])\r\n                    this.current_hp -= obj.value\r\n                    this.message = obj.msg\r\n                    // var list = this.num\r\n                    // var list2 = this.playing_order\r\n                    await TweenMax.gsap.to(`#card${this.playing_order.indexOf(this.stacknum)}`,0.2,{delay:0.6,opacity:0,onComplete:()=>{\r\n                        this.playing_order[this.playing_order.indexOf(this.stacknum)] = 0\r\n                        this.outcard()\r\n                    }})\r\n                })\r\n            }\r\n        },\r\n        cardmouseenterevent(e,value){ //鼠标移入卡牌事件\r\n            this.zIndex = document.getElementById(`card${value}`).style.zIndex\r\n            document.getElementById(`card${value}`).style.zIndex = 44\r\n        },\r\n        cardmouseleaveevent(e,value){ //鼠标移出卡牌事件\r\n            document.getElementById(`card${value}`).zIndex = this.zIndex\r\n        },\r\n        statusmouseenterevent(e,item){ //鼠标移入状态事件\r\n            // e.srcElement.style.border = '1px solid rgb(255, 85, 179)'\r\n            playerstatuinfo(document.getElementById(\"curtainstyle\"),item)\r\n            TweenMax.gsap.to('#'+e.target.id,10,{rotate:'360deg'})\r\n        },\r\n        statusmouseleaveevent(e,item){ //鼠标移出状态事件\r\n            playerstatuinfo(document.getElementById(\"curtainstyle\"),item)\r\n            TweenMax.gsap.killTweensOf(e.target)\r\n            TweenMax.gsap.to('#'+e.target.id,0.2,{rotate:'0deg'})\r\n        },\r\n        cardclickevent(e,val,idx){\r\n            if(this.start_end == true){\r\n                return false\r\n            }\r\n            this.playing_order_show = false\r\n            var value = this.playing_order[idx]\r\n            if(this.playing_order[idx] == 0){\r\n                this.selectcard += 1\r\n                document.getElementById(`card${idx}`).style.boxShadow = `0px 0px 5px 5px ${val.line_color}`\r\n                this.playing_order[idx] = Math.max.apply(null,this.playing_order) + 1\r\n            }else{\r\n                this.selectcard -= 1\r\n                document.getElementById(`card${idx}`).style.boxShadow = ''\r\n                this.playing_order[idx] = 0\r\n                for (let i = 0; i < this.playing_order.length; i++) {\r\n                    if(this.playing_order[i] !== 0 && this.playing_order[i] > value){\r\n                        this.playing_order[i] = this.playing_order[i] - 1\r\n                    }\r\n                }\r\n            }\r\n            this.playing_order_show = true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.curtainstyle{\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n}\r\n.curtainstyle_1{\r\n    position: absolute;\r\n    width: 522px;\r\n    height: 689px;\r\n    border-radius: 20px;\r\n    background-size: cover;\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    left: calc(50% - 261px);\r\n    top: 8%;\r\n    border: 2px solid beige;\r\n    transform: scale(0,0);\r\n}\r\n.curtainstyle_2{\r\n    position: absolute;\r\n    width: 50%;\r\n    height: 200px;\r\n    // border-top: 2px solid rgba(245, 245, 245, 0.5);\r\n    // border-bottom: 2px solid rgba(245, 245, 245, 0.5);\r\n    bottom: 1%;\r\n    left: 25%;\r\n}\r\n.monster_blood_volume{\r\n    position: absolute;\r\n    border: 1px solid #c4d1df;\r\n    width: 800px;\r\n    height: 30px;\r\n    border-radius: 15px;\r\n    left: calc(50% - 400px);\r\n    top: 30px;\r\n    .monster_blood_volume_1{\r\n        position: absolute;\r\n        width: 0%;\r\n        height: 100%;\r\n        border-radius: 15px;\r\n        background-color: rgba(102, 255, 242, 0.5);\r\n        z-index: 1;\r\n        transition: 0.2s;\r\n    }\r\n    .monster_blood_volume_2{\r\n        position: absolute;\r\n        width: 0%;\r\n        height: 100%;\r\n        border-radius: 15px;\r\n        background-color: rgba(255, 0, 0, 0.5);\r\n        z-index: 2;\r\n        transition: 0.2s;\r\n    }\r\n    .monster_blood_volume_3{\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        color: beige;\r\n        font-family: Hywb;\r\n        text-align: center;\r\n        font-size: 25px;\r\n        line-height: 30px;\r\n        z-index: 3;\r\n    }\r\n    .monster_blood_volume_4{\r\n        position: absolute;\r\n        width: 90%;\r\n        height: 20%;\r\n        border: 1px solid #c4d1df;\r\n        border-radius: 5px;\r\n        bottom: -9px;\r\n        left: 5%;\r\n        .monster_blood_volume_5{\r\n            position: absolute;\r\n            width: 0%;\r\n            height: 100%;\r\n            border-radius: 5px;\r\n            background-color: rgba(0, 255, 255, 0.2);\r\n            z-index: 1;\r\n        }\r\n        .monster_blood_volume_6{\r\n            position: absolute;\r\n            width: 0%;\r\n            height: 100%;\r\n            border-radius: 5px;\r\n            background-color: rgba(0, 255, 255, 0.8);\r\n            z-index: 2;\r\n        }\r\n    }\r\n}\r\n.cardstyle{\r\n    position: absolute;\r\n    width: 120px;\r\n    height: 180px;\r\n    // border: 1px solid rgba(136, 255, 0, 0.5);\r\n    top: 10px;\r\n    left: 0px;\r\n    transition: 0.1s;\r\n    border-radius: 5px;\r\n    // background-color: rgba(195, 255, 126, 0.5);\r\n    cursor: pointer;\r\n    background-size: cover;\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n}\r\n.cardstyle:hover{\r\n    top: 0px;\r\n}\r\n.cardbackgroundstyle{\r\n    border-radius: 5px;\r\n}\r\n.playing_order{\r\n    // width: 20px;\r\n    // height: 20px;\r\n    font-size: 20px;\r\n    // color: rgb(0, 0, 0);\r\n    font-family: Hywb;\r\n}\r\n.cardmsgstyle{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 60%;\r\n    bottom: 0%;\r\n    border-color: wheat;\r\n}\r\n.outcardstyle{\r\n    position: absolute;\r\n    width: 120px;\r\n    height: 40px;\r\n    // border: 1px solid white;\r\n    right: 25%;\r\n    bottom: 21%;\r\n    color: white;\r\n    cursor: pointer;\r\n    font-family: Hywb;\r\n    font-size: 30px;\r\n    border: 1px solid white;\r\n    border-radius: 5px;\r\n    line-height: 40px;\r\n    transition: 0.1s;\r\n}\r\n.outcardstyle:active{\r\n    background-color: rgba(240, 255, 240, 0.3);\r\n}\r\n.outcardstyle:hover{\r\n    transform: scale(1.08,1.08);\r\n}\r\n.playerstatustyle{\r\n    position: absolute;\r\n    width: 50%;\r\n    height: 50px;\r\n    // border: 1px solid white;\r\n    bottom: 21%;\r\n    left: 25%;\r\n}\r\n.playerstatusitemtyle{\r\n    width: 50px;\r\n    height: 50px;\r\n    position: absolute;\r\n    transition: 0.2s;\r\n    cursor: pointer;\r\n    background-size: cover;\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    border-radius: 50px;\r\n}\r\n// .playerstatusitemtyle:hover{\r\n//     transform: scale(1.5,1.5);\r\n// }\r\n.messagestyle{\r\n    position: absolute;\r\n    width: 21%;\r\n    height: 30%;\r\n    left: 2%;\r\n    bottom: calc(1% + 10px);\r\n    // border: 1px solid white;\r\n    overflow-y: auto;\r\n    .msgitemstyle{\r\n        color: rgb(255, 255, 255);\r\n        font-size: 20px;\r\n        text-align: left;\r\n        font-family: \"幼圆\", Courier, monospace;\r\n    }\r\n}\r\n.messagestyle::-webkit-scrollbar{\r\n    width: 10px;\r\n    height: 8px;\r\n}\r\n.messagestyle::-webkit-scrollbar-button{\r\n    display: none;\r\n}\r\n.messagestyle::-webkit-scrollbar-thumb{\r\n    background-color: rgba(240, 255, 240, 0.5);\r\n    border-radius: 10px;\r\n}\r\n.messagestyle::-webkit-scrollbar-track-piece{\r\n    background-color: rgba(240, 255, 240, 0.2);\r\n    border-radius: 10px;\r\n}\r\n.fo1style{\r\n    background-color: #ffffffbe;\r\n    font-family: \"幼圆\", Courier, monospace;\r\n}\r\n.cardeffectstyle{\r\n    width: 80%;\r\n    height: 70%;\r\n    margin-top: 30%;\r\n    margin-left: 10%;\r\n}\r\n.playerstyle{\r\n    position: absolute;\r\n    width: 21%;\r\n    height: 20%;\r\n    right: 2%;\r\n    bottom: calc(1% + 10px);\r\n    // border: 1px solid white;\r\n}\r\n.playerhp{\r\n    width: 80%;\r\n    height: 10px;\r\n    margin-left: 10%;\r\n    border: 1px solid #c4d1df;\r\n    border-radius: 5px;\r\n    background-color: rgba(255, 0, 0, 0.5);\r\n}\r\n.playermp{\r\n    width: 80%;\r\n    height: 10px;\r\n    margin-left: 10%;\r\n    margin-top: 20px;\r\n    border: 1px solid #c4d1df;\r\n    border-radius: 5px;\r\n    background-color: rgba(0, 255, 255, 0.5);\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BattlePicture.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BattlePicture.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BattlePicture.vue?vue&type=template&id=2f844304&scoped=true&\"\nimport script from \"./BattlePicture.vue?vue&type=script&lang=js&\"\nexport * from \"./BattlePicture.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BattlePicture.vue?vue&type=style&index=0&id=2f844304&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f844304\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"view-style\" :style=\"`background-image:url(${require('@/assets/image/main_back/home_image_2_a.png')})`\">\r\n        <!-- <div class=\"main-style\" @click=\"routerEvent('ModeSelection')\">《返回</div> -->\r\n        <div class=\"a\">\r\n            <table class=\"b\">\r\n                <tbody>\r\n                    <tr v-for=\"item in 3\" :key=\"item\">\r\n                        <td @click=\"showDeck($event,item==1?itemt:item==2?10+itemt:20+itemt)\" \r\n                            class=\"c\" \r\n                            :style=\"`border-radius: 10px;${list[item==1?itemt-1:item==2?10+itemt-1:20+itemt-1]==0?'':'background-image:url('+require('@/assets/image/card/card_7_a.webp')+'),url('+require('@/assets/image/deck_back/deck_back_4_a.png')+')'}`\" \r\n                            v-for=\"itemt in 10\" \r\n                            :key=\"itemt\" \r\n                            :id=\"`back${item==1?itemt:item==2?10+itemt:20+itemt}`\"\r\n                            :data-item=\"list[item==1?itemt-1:item==2?10+itemt-1:20+itemt-1]\"></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <battle-picture class=\"battle_picture\" v-if=\"showBattle\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as TweenMax from 'gsap/all'\r\nimport BattlePicture from '../../components/BattlePicture.vue'\r\n\r\n// var XLSX = require('xlsx')\r\nexport default {\r\n  components: { BattlePicture },\r\n    name:'CombatMain',\r\n    data(){\r\n        return{\r\n            list:[],\r\n            audio:null,\r\n            showBattle:false,\r\n            cardshow:false\r\n        }\r\n    },\r\n    mounted(){\r\n        this.init()\r\n        // var sheets = store.state.dbsql.sql\r\n        // var obj = XLSX.utils.sheet_to_json(sheets['PeopleDeck'])\r\n        // console.log(XLSX.utils.sheet_to_json(this.$store.state.dbsql.sql['Type_A']));\r\n    },\r\n    methods:{\r\n        routerEvent(e){\r\n            this.$router.push({name:e})\r\n        },\r\n        init(){\r\n            this.list = []\r\n            for (let i = 1; i <= 30; i++) { //循环30个事件栏位，初始化栏位\r\n            // console.log(i);\r\n                if(i <= 10){\r\n                    //顶上10个栏位的随机事件\r\n                    if(Math.round(Math.random()) == 1){\r\n                        this.list.push(i)\r\n                    }else{\r\n                        this.list.push(0)\r\n                    }\r\n                }\r\n                if(i > 10 && i < 21){ //对中间10个栏位进行条件判断\r\n                    if(this.list.indexOf(i-10) == -1){\r\n                        //如果检测到与其对应的上方栏位没有放置事件，则该栏位必然产生一个事件\r\n                        this.list.push(i)\r\n                    }else{\r\n                        //如果检测到与其对应的上方栏位已经放置事件，则该栏位随机放置事件\r\n                        if(Math.round(Math.random()) == 1){\r\n                            this.list.push(i)\r\n                        }else{\r\n                            this.list.push(0)\r\n                        }\r\n                    }\r\n                }\r\n                if(i > 20){ //对底下10个栏位进行条件判断\r\n                    if(this.list.indexOf(i-10) == -1){\r\n                        //如果检测到与其对应的上方栏位没有放置事件，则该栏位必然产生一个事件\r\n                        this.list.push(i)\r\n                    }else if(this.list.indexOf(i-10) !== -1 && this.list.indexOf(i-20) !== -1){\r\n                        //如果检测到与其对应的上方所有栏位已经放置事件，则该栏位随机放置事件\r\n                        if(Math.round(Math.random()) == 1){\r\n                            this.list.push(i)\r\n                        }else{\r\n                            this.list.push(0)\r\n                        }\r\n                    }else if(this.list.indexOf(i-10) !== -1 && this.list.indexOf(i-20) == -1){\r\n                        this.list.push(i)\r\n                    }\r\n                }\r\n            }\r\n            // console.log(list);\r\n        },\r\n        showDeck(e,item){\r\n            if(this.cardshow == false){\r\n                this.cardshow = true\r\n                TweenMax.gsap.to(`#back${item}`,0.5,{backgroundPosition:'-200% 50%,50% 50%',onComplete:()=>{this.showBattle = true}})\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.view-style{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n.main-style{\r\n    position: absolute;\r\n    z-index: 11;\r\n    left: 2%;\r\n    top: 10px;\r\n    color: rgba(127, 255, 212, 0.527);\r\n    font-size: 20px;\r\n    font-family: \"Goudy Old Style\", Courier, monospace;\r\n    transition: 0.2s all;\r\n    cursor: pointer;\r\n}\r\n.main-style:hover{\r\n    letter-spacing: 3px;\r\n    color: rgba(127, 255, 212, 1);\r\n}\r\n.a{\r\n    position: absolute;\r\n    z-index: 9;\r\n    width: 90%;\r\n    height: 80%;\r\n    // border: 1px solid black;\r\n    top: 10%;\r\n    left: 5%;\r\n}\r\n.b{\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    // border: 1px solid black;\r\n    border-spacing:10px;\r\n}\r\n.c{\r\n    cursor: pointer;\r\n    background-size: cover;\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n}\r\n.c:hover{\r\n    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.30);\r\n}\r\n.battle_picture{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    z-index: 9;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CombatMain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CombatMain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CombatMain.vue?vue&type=template&id=94e77d06&scoped=true&\"\nimport script from \"./CombatMain.vue?vue&type=script&lang=js&\"\nexport * from \"./CombatMain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CombatMain.vue?vue&type=style&index=0&id=94e77d06&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94e77d06\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","_l","item","key","itemt","list","attrs","on","$event","showDeck","_e","staticRenderFns","_v","_s","monster_name","hp","current_hp","_m","index","statusmouseenterevent","statusmouseleaveevent","id","cardmouseenterevent","cardmouseleaveevent","cardclickevent","domProps","card_effect","decorate","line_color","playing_order","outcard","judgment_start","obj","container","document","getElementsByClassName","card","getElementById","TweenMax","zIndex","left","offsetWidth","clientWidth","top","rotateY","card_effect_judgment","type","msg","value","data","num","plate","clearcarlist","selectcard","stacknum","stacklist","playing_order_show","msglist","message","player_statuslist","titlecolor","name","image","allow","start_end","watch","nval","oval","current_hp2","setTimeout","current_hp1","mounted","transform","width","methods","delay","opacity","onComplete","e","playerstatuinfo","rotate","val","idx","component","components","BattlePicture","audio","showBattle","cardshow","routerEvent","init","backgroundPosition"],"sourceRoot":""}