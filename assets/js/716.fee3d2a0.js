(self["webpackChunkgamea"]=self["webpackChunkgamea"]||[]).push([[716],{3716:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-style",style:"background-image:url("+s(7346)+")"},[a("div",{staticClass:"main-style",on:{click:function(t){return e.routerEvent("ModeSelection")}}},[e._v("《返回")]),e.deckShow?a("div",{staticClass:"deck-style",attrs:{id:"deck-id"},on:{mouseleave:e.deckLeaveEvent}},[a("div",{ref:"deck-model",staticClass:"deck-model-style",style:e.style,attrs:{id:"deck-model-id"},on:{mousemove:e.deckModelMoveEvent,mouseover:e.deckModelOverEvent}},[a("div",{ref:"model-after",staticClass:"model-after-style"})])]):e._e(),a("div",{staticClass:"deck-list-style",attrs:{id:"deck-list-id"}},e._l(e.dataList,(function(t){return a("div",{key:t.id,staticClass:"list-item-style",style:"background-image:url("+t.backImageTop+"),url("+t.backImageBottom+")",attrs:{id:"list-item-"+t.id},on:{click:function(s){return e.deckClickEvent(t)}}})})),0),a("div",{staticClass:"deck-history-style",attrs:{id:"deck-history-id"}},[e.deckShow?a("div",{staticClass:"deck-history-item1"},[e._v(e._s(e.deckDetails.chineseName)+" «"),a("span",{staticClass:"lv-style",staticStyle:{color:"#c4d1df"}},[e._v(e._s(e.deckDetails.deckLv))]),e._v("»"),a("br"),e._v(e._s(e.deckDetails.foreignName))]):e._e(),e.deckShow?a("div",{staticClass:"deck-history-item2",style:"background-image:url("+s(6383)+")"}):e._e(),e.deckShow?a("div",{staticClass:"deck-history-item3"},[a("div",{staticClass:"switch-info-prev"},[e._v("《")]),a("div",{staticClass:"switch-info"}),a("div",{staticClass:"switch-info-next"},[e._v("》")])]):e._e()]),a("div",{staticClass:"switch-back-style"},[a("span",{staticClass:"switch-back-prev",style:"visibility:"+(0==e.switchBackList.id?"hidden":"visible"),on:{click:function(t){return e.switchBack("prev")}}},[e._v("《")]),e._l(e.switchBackList.data[e.switchBackList.id],(function(t){return a("div",{key:t.id,staticClass:"switch-back-item",style:"background-image:url("+t.imgUrl+")",attrs:{id:"switch-back-item-"+t.id},on:{click:function(s){return e.deckChangeEvent(t)}}})})),a("span",{staticClass:"switch-back-next",style:"visibility:"+(0==e.switchBackList.data||e.switchBackList.data.length-1==e.switchBackList.id?"hidden":"visible"),on:{click:function(t){return e.switchBack("next")}}},[e._v("》")])],2)])},i=[],c=s(1190),d=s(4806),n=s.n(d),o={name:"MainDeck",data(){return{dataList:[],deckDetails:{},deckShow:!1,switchBackList:{id:0,data:[]},style:{}}},mounted(){this.getDeckList(),this.pictureAddressing()},methods:{routerEvent(e){this.$router.push({name:e})},deckModelMoveEvent(e){const t=this.$refs["deck-model"],s=this.$refs["model-after"],a=function(e,t){return Number((e/t*40-20).toFixed(1))},i=a(e.offsetY,t.offsetHeight),c=a(e.offsetX,t.offsetWidth),d=(e.offsetX+1)/t.offsetWidth,n=(e.offsetY+1)/t.offsetHeight,o=`rotateX(${-30*(n-.5)}deg)`,l=`rotateY(${30*(d-.5)}deg)`;t.style.transform=`perspective(1500px) ${l} ${o}`,t.style.backgroundPosition=`${null==this.deckDetails.backImageDecorate?"":"0% 100%,"}calc(50% + ${-c}px) ${i}px,50% 50%`;const r=this.scale(d,0,1,150,-50),h=this.scale(n,0,1,30,-100),k=Math.min(Math.max(n,.3),.7),u=255*this.scale(k,.3,1,1,0),f=`rgba(${u}, ${u}, ${u}, 1)`,m="rgba(255, 255, 255, 0)";s.style.backgroundImage=`radial-gradient(circle at ${null==this.deckDetails.backImageDecorate?"":"0% 100%, "}${r}% ${h}%, ${f} 20%, ${m})`},deckLeaveEvent(e){const t=this.$refs["deck-model"],s=this.$refs["model-after"];t.style.transform="",t.style.backgroundPosition=(null==this.deckDetails.backImageDecorate?"":"0% 100%,")+"50% 0px,50% 50%",s.style.opacity=0},deckModelOverEvent(){const e=this.$refs["model-after"];e.style.opacity=1},getDeckList(){var e=this.$store.state.archive.archive;if(0==e.own_cards.length)return"";(0,c.B$)().then((t=>{let s=t,a={};e.own_cards.length==t.length?this.dataList=n().cloneDeep(s):e.own_cards.length<t.length&&e.own_cards.forEach(((e,t)=>{a=n().cloneDeep(s[n().findIndex(s,(t=>t.id==e))]),this.dataList.push(a)}))}))},deckClickEvent(e){if(this.deckShow=!0,this.deckDetails.id&&this.deckDetails.id==e.id)return!1;this.deckDetails={},this.deckDetails=n().cloneDeep(e),this.style={backgroundImage:`${null==this.deckDetails.backImageDecorate?"":"url("+this.deckDetails.backImageDecorate+"),"}url(${this.deckDetails.backImageTop}),url(${this.deckDetails.backImageBottom})`,backgroundSize:(null==this.deckDetails.backImageDecorate?"":"contain,")+"cover,cover",backgroundPosition:(null==this.deckDetails.backImageDecorate?"":"0% 100%,")+"50% 0px,50% 50%"},this.palyAudio(e.audio)},palyAudio(e){if("null"==e)return this.audio&&this.audio.pause(),!1;var t=s(1532)("./"+e+".mp3");this.audio=new Audio,this.audio.src=t,this.audio.play()},pictureAddressing(){var e=this.$store.state.archive.archive;if(0==e.unlock_background.length)return"";(0,c.Z3)().then((t=>{let s=t,a=[],i={};e.unlock_background.length==t.length?this.switchBackList.data=n().chunk(s,3):e.unlock_background.length<t.length&&(e.unlock_background.forEach(((e,t)=>{i=n().cloneDeep(s[n().findIndex(s,(t=>t.id==e))]),a.push(i)})),this.switchBackList.data=n().chunk(a,3))}))},switchBack(e){switch(e){case"prev":this.switchBackList.id--;break;case"next":this.switchBackList.id++;break;default:break}},deckChangeEvent(e){if(0==this.deckShow)return!1;this.$refs["deck-model"].style.backgroundImage=`${null==this.deckDetails.backImageDecorate?"":"url("+this.deckDetails.backImageDecorate+"),"}url(${this.deckDetails.backImageTop}),url(${e.imgUrl})`},scale:(e,t,s,a,i)=>a+(e-t)*(i-a)/(s-t)}},l=o,r=s(1001),h=(0,r.Z)(l,a,i,!1,null,"d09e14fa",null),k=h.exports},1532:function(e,t,s){var a={"./Childhood Dreams.mp3":2103,"./Where Is the Love.mp3":6313,"./Zombies On Your Lawn.mp3":3528,"./bgm/Flop.mp3":3423,"./button04a.mp3":980,"./蝴蝶忍.mp3":6101};function i(e){var t=c(e);return s(t)}function c(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=c,e.exports=i,i.id=1532},2103:function(e,t,s){"use strict";e.exports=s.p+"assets/media/Childhood Dreams.4d2e7a45.mp3"},6313:function(e,t,s){"use strict";e.exports=s.p+"assets/media/Where Is the Love.8f541cac.mp3"},3423:function(e,t,s){"use strict";e.exports=s.p+"assets/media/Flop.e0428d40.mp3"},6101:function(e,t,s){"use strict";e.exports=s.p+"assets/media/蝴蝶忍.13eb70aa.mp3"},6383:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATwAAAAgCAMAAAC4uDRgAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAFdQTFRFAAAAzaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4yR7tagAAAB10Uk5TABA/b18ggK/P/+9Pv58wUJDff+BgoEDwcMDQsI9JiJEnAAADA0lEQVR4nO1Yi5KjIBAMqChEQRFFTP7/Ow8YfG5C6upus17Ortpd5ZEMbffMuJfLiRMnTpw48SdAGOMkxTj76UB+EJmlILE8xFcRtL7DSV7QGSy/fmeAh0Was4WEskr4ehKJ5bpuUqAvu8oSlre18Mu56mjTvzHoY0A0upsJaEFFpcSBJcnIsnSwc0VZljPXZk1X1lH1zsAPgIpuzKja2YeWJWfLFT9I0zX0sPssRfcjn41K771GNgTRcU0tn6jVo/2Z7O3SJVwpWlTJi8T5GUA4qZogLITlnOqUo2zSWMu3mxS5mRsRbk3wqGTamLaBO+M3Fbm8vi6/nL9c8n7g10Hxq8wbf87O3ys2GqObUBtcauuFZakjz5KYzXoGriowr4KnIFaaLS2Fz1Uo7Pc3R6NPsGhQ2NK2ajCoF8jgvYsIrWCRNWcR/RI17byQybwD7KB7sLKS6dc2MPNFh6H9+I8io4+D4jiVVcn2Rxv9JAuS4xqUJrZ14ivMtBMx5XRrfyOKwsxj2Ppzl66VBFQwesdHQg5ByXkgkffyK2kTvPd67bTk5EoaIKed/PwEdid0MEJfvIftPsqj5H0gPAV94+lonG7BhHXct5xOyiQGqDRA41PyRps/Sd8v7h1g/FiNYWg0ltcCblM/6Uz7+FBeeZllws6700+c2KnIl/QzeT7TWarLOwMedp+vLWmif5DZ0Og5/Stn/muAPvZRUFnv2ozd4cCmNZMFqDBw4tiJ9BoLeb3LdIhoOsLjWqpta4iK5c2s07o7Vr2AoOpIUKgfyEqHQNHQ0tZ1HHy6j5OH7HR4l9Bb45VebXWUtn8elsLaq3BbF0gLf7u4bS/jnBNJs35Qg67F//LPKa7qTUuSsaAn28Deohtn36K2WobFwQrAd4OwpaFGRXhrsD2wjgsou9EgOa7LsBRJWn9LjMdFx5JwlRUj0GC7/+61+VBYwkdapRhf70yL+I4PxEAb1+enOTUhff1u1hI37cqEOlrtfAfQ4EqHvn10hTxx4sSJEydOfDJ+AQTON4xh8mnOAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=716.fee3d2a0.js.map