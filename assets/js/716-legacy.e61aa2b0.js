(self["webpackChunkgamea"]=self["webpackChunkgamea"]||[]).push([[716],{3716:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view-style",style:"background-image:url("+a(7346)+")"},[s("div",{staticClass:"main-style",on:{click:function(e){return t.routerEvent("ModeSelection")}}},[t._v("《返回")]),t.deckShow?s("div",{staticClass:"deck-style",attrs:{id:"deck-id"},on:{mouseleave:t.deckLeaveEvent}},[s("div",{ref:"deck-model",staticClass:"deck-model-style",style:t.style,attrs:{id:"deck-model-id"},on:{mousemove:t.deckModelMoveEvent,mouseover:t.deckModelOverEvent}},[s("div",{ref:"model-after",staticClass:"model-after-style"})])]):t._e(),s("div",{staticClass:"deck-list-style",attrs:{id:"deck-list-id"}},t._l(t.dataList,(function(e){return s("div",{key:e.id,staticClass:"list-item-style",style:"background-image:url("+e.backImageTop+"),url("+e.backImageBottom+")",attrs:{id:"list-item-"+e.id},on:{click:function(a){return t.deckClickEvent(e)}}})})),0),s("div",{staticClass:"deck-history-style",attrs:{id:"deck-history-id"}},[t.deckShow?s("div",{staticClass:"deck-history-item1"},[t._v(t._s(t.deckDetails.chineseName)+" «"),s("span",{staticClass:"lv-style",staticStyle:{color:"#c4d1df"}},[t._v(t._s(t.deckDetails.deckLv))]),t._v("»"),s("br"),t._v(t._s(t.deckDetails.foreignName))]):t._e(),t.deckShow?s("div",{staticClass:"deck-history-item2",style:"background-image:url("+a(6383)+")"}):t._e(),t.deckShow?s("div",{staticClass:"deck-history-item3"},[s("div",{staticClass:"switch-info-prev"},[t._v("《")]),s("div",{staticClass:"switch-info"}),s("div",{staticClass:"switch-info-next"},[t._v("》")])]):t._e()]),s("div",{staticClass:"switch-back-style"},[s("span",{staticClass:"switch-back-prev",style:"visibility:"+(0==t.switchBackList.id?"hidden":"visible"),on:{click:function(e){return t.switchBack("prev")}}},[t._v("《")]),t._l(t.switchBackList.data[t.switchBackList.id],(function(e){return s("div",{key:e.id,staticClass:"switch-back-item",style:"background-image:url("+e.imgUrl+")",attrs:{id:"switch-back-item-"+e.id},on:{click:function(a){return t.deckChangeEvent(e)}}})})),s("span",{staticClass:"switch-back-next",style:"visibility:"+(0==t.switchBackList.data||t.switchBackList.data.length-1==t.switchBackList.id?"hidden":"visible"),on:{click:function(e){return t.switchBack("next")}}},[t._v("》")])],2)])},c=[],i=(a(9653),a(6977),a(2222),a(1539),a(4747),a(4553),a(1190)),n=a(4806),o=a.n(n),d={name:"MainDeck",data:function(){return{dataList:[],deckDetails:{},deckShow:!1,switchBackList:{id:0,data:[]},style:{}}},mounted:function(){this.getDeckList(),this.pictureAddressing()},methods:{routerEvent:function(t){this.$router.push({name:t})},deckModelMoveEvent:function(t){var e=this.$refs["deck-model"],a=this.$refs["model-after"],s=function(t,e){return Number((t/e*40-20).toFixed(1))},c=s(t.offsetY,e.offsetHeight),i=s(t.offsetX,e.offsetWidth),n=(t.offsetX+1)/e.offsetWidth,o=(t.offsetY+1)/e.offsetHeight,d="rotateX(".concat(-30*(o-.5),"deg)"),r="rotateY(".concat(30*(n-.5),"deg)");e.style.transform="perspective(1500px) ".concat(r," ").concat(d),e.style.backgroundPosition="".concat(null==this.deckDetails.backImageDecorate?"":"0% 100%,","calc(50% + ").concat(-i,"px) ").concat(c,"px,50% 50%");var l=this.scale(n,0,1,150,-50),u=this.scale(o,0,1,30,-100),h=Math.min(Math.max(o,.3),.7),k=255*this.scale(h,.3,1,1,0),f="rgba(".concat(k,", ").concat(k,", ").concat(k,", 1)"),m="rgba(255, 255, 255, 0)";a.style.backgroundImage="radial-gradient(circle at ".concat(null==this.deckDetails.backImageDecorate?"":"0% 100%, ").concat(l,"% ").concat(u,"%, ").concat(f," 20%, ").concat(m,")")},deckLeaveEvent:function(t){var e=this.$refs["deck-model"],a=this.$refs["model-after"];e.style.transform="",e.style.backgroundPosition="".concat(null==this.deckDetails.backImageDecorate?"":"0% 100%,","50% 0px,50% 50%"),a.style.opacity=0},deckModelOverEvent:function(){var t=this.$refs["model-after"];t.style.opacity=1},getDeckList:function(){var t=this,e=this.$store.state.archive.archive;if(0==e.own_cards.length)return"";(0,i.B$)().then((function(a){var s=a,c={};e.own_cards.length==a.length?t.dataList=o().cloneDeep(s):e.own_cards.length<a.length&&e.own_cards.forEach((function(e,a){c=o().cloneDeep(s[o().findIndex(s,(function(t){return t.id==e}))]),t.dataList.push(c)}))}))},deckClickEvent:function(t){if(this.deckShow=!0,this.deckDetails.id&&this.deckDetails.id==t.id)return!1;this.deckDetails={},this.deckDetails=o().cloneDeep(t),this.style={backgroundImage:"".concat(null==this.deckDetails.backImageDecorate?"":"url("+this.deckDetails.backImageDecorate+"),","url(").concat(this.deckDetails.backImageTop,"),url(").concat(this.deckDetails.backImageBottom,")"),backgroundSize:"".concat(null==this.deckDetails.backImageDecorate?"":"contain,","cover,cover"),backgroundPosition:"".concat(null==this.deckDetails.backImageDecorate?"":"0% 100%,","50% 0px,50% 50%")},this.palyAudio(t.audio)},palyAudio:function(t){if("null"==t)return this.audio&&this.audio.pause(),!1;var e=a(8089)("./"+t+".mp3");this.audio=new Audio,this.audio.src=e,this.audio.play()},pictureAddressing:function(){var t=this,e=this.$store.state.archive.archive;if(0==e.unlock_background.length)return"";(0,i.Z3)().then((function(a){var s=a,c=[],i={};e.unlock_background.length==a.length?t.switchBackList.data=o().chunk(s,3):e.unlock_background.length<a.length&&(e.unlock_background.forEach((function(t,e){i=o().cloneDeep(s[o().findIndex(s,(function(e){return e.id==t}))]),c.push(i)})),t.switchBackList.data=o().chunk(c,3))}))},switchBack:function(t){switch(t){case"prev":this.switchBackList.id--;break;case"next":this.switchBackList.id++;break;default:break}},deckChangeEvent:function(t){if(0==this.deckShow)return!1;this.$refs["deck-model"].style.backgroundImage="".concat(null==this.deckDetails.backImageDecorate?"":"url("+this.deckDetails.backImageDecorate+"),","url(").concat(this.deckDetails.backImageTop,"),url(").concat(t.imgUrl,")")},scale:function(t,e,a,s,c){return s+(t-e)*(c-s)/(a-e)}}},r=d,l=a(1001),u=(0,l.Z)(r,s,c,!1,null,"d09e14fa",null),h=u.exports},8089:function(t,e,a){var s={"./Childhood Dreams.mp3":2103,"./Where Is the Love.mp3":6313,"./Zombies On Your Lawn.mp3":3528,"./bgm/Flop.mp3":3423,"./button04a.mp3":980,"./蝴蝶忍.mp3":6101};function c(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}c.keys=function(){return Object.keys(s)},c.resolve=i,t.exports=c,c.id=8089},2103:function(t,e,a){"use strict";t.exports=a.p+"assets/media/Childhood Dreams.4d2e7a45.mp3"},6313:function(t,e,a){"use strict";t.exports=a.p+"assets/media/Where Is the Love.8f541cac.mp3"},3423:function(t,e,a){"use strict";t.exports=a.p+"assets/media/Flop.e0428d40.mp3"},6101:function(t,e,a){"use strict";t.exports=a.p+"assets/media/蝴蝶忍.13eb70aa.mp3"},6383:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATwAAAAgCAMAAAC4uDRgAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAFdQTFRFAAAAzaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4zaB4yR7tagAAAB10Uk5TABA/b18ggK/P/+9Pv58wUJDff+BgoEDwcMDQsI9JiJEnAAADA0lEQVR4nO1Yi5KjIBAMqChEQRFFTP7/Ow8YfG5C6upus17Ortpd5ZEMbffMuJfLiRMnTpw48SdAGOMkxTj76UB+EJmlILE8xFcRtL7DSV7QGSy/fmeAh0Was4WEskr4ehKJ5bpuUqAvu8oSlre18Mu56mjTvzHoY0A0upsJaEFFpcSBJcnIsnSwc0VZljPXZk1X1lH1zsAPgIpuzKja2YeWJWfLFT9I0zX0sPssRfcjn41K771GNgTRcU0tn6jVo/2Z7O3SJVwpWlTJi8T5GUA4qZogLITlnOqUo2zSWMu3mxS5mRsRbk3wqGTamLaBO+M3Fbm8vi6/nL9c8n7g10Hxq8wbf87O3ys2GqObUBtcauuFZakjz5KYzXoGriowr4KnIFaaLS2Fz1Uo7Pc3R6NPsGhQ2NK2ajCoF8jgvYsIrWCRNWcR/RI17byQybwD7KB7sLKS6dc2MPNFh6H9+I8io4+D4jiVVcn2Rxv9JAuS4xqUJrZ14ivMtBMx5XRrfyOKwsxj2Ppzl66VBFQwesdHQg5ByXkgkffyK2kTvPd67bTk5EoaIKed/PwEdid0MEJfvIftPsqj5H0gPAV94+lonG7BhHXct5xOyiQGqDRA41PyRps/Sd8v7h1g/FiNYWg0ltcCblM/6Uz7+FBeeZllws6700+c2KnIl/QzeT7TWarLOwMedp+vLWmif5DZ0Og5/Stn/muAPvZRUFnv2ozd4cCmNZMFqDBw4tiJ9BoLeb3LdIhoOsLjWqpta4iK5c2s07o7Vr2AoOpIUKgfyEqHQNHQ0tZ1HHy6j5OH7HR4l9Bb45VebXWUtn8elsLaq3BbF0gLf7u4bS/jnBNJs35Qg67F//LPKa7qTUuSsaAn28Deohtn36K2WobFwQrAd4OwpaFGRXhrsD2wjgsou9EgOa7LsBRJWn9LjMdFx5JwlRUj0GC7/+61+VBYwkdapRhf70yL+I4PxEAb1+enOTUhff1u1hI37cqEOlrtfAfQ4EqHvn10hTxx4sSJEydOfDJ+AQTON4xh8mnOAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=716-legacy.e61aa2b0.js.map