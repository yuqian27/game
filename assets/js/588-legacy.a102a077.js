"use strict";(self["webpackChunkgamea"]=self["webpackChunkgamea"]||[]).push([[588],{9588:function(t,e,s){s.r(e),s.d(e,{default:function(){return w}});var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view-style",style:"background-image:url("+s(7346)+")"},[n("div",{staticClass:"a"},[n("table",{staticClass:"b"},[n("tbody",t._l(3,(function(e){return n("tr",{key:e},t._l(10,(function(a){return n("td",{key:a,staticClass:"c",style:"border-radius: 10px;"+(0==t.list[1==e?a-1:2==e?10+a-1:20+a-1]?"":"background-image:url("+s(1940)+"),url("+s(6523)+")"),attrs:{id:"back"+(1==e?a:2==e?10+a:20+a),"data-item":t.list[1==e?a-1:2==e?10+a-1:20+a-1]},on:{click:function(s){return t.showDeck(s,1==e?a:2==e?10+a:20+a)}}})})),0)})),0)])]),t.showBattle?n("battle-picture",{staticClass:"battle_picture"}):t._e()],1)},a=[],i=s(1980),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"curtainstyle",attrs:{id:"curtainstyle"}},[n("div",{staticClass:"monster_blood_volume"},[n("div",{staticClass:"monster_blood_volume_1",attrs:{id:"monster_blood_volume_1"}}),n("div",{staticClass:"monster_blood_volume_2",attrs:{id:"monster_blood_volume_2"}}),n("div",{staticClass:"monster_blood_volume_3"},[t._v(t._s(t.monster_name)+"·"+t._s(t.hp)+"|"+t._s(t.current_hp))]),t._m(0)]),n("div",{staticClass:"curtainstyle_1",style:"background-image:url("+s(2906)+"),url("+s(6335)+")",attrs:{id:"curtainstyle_1"}}),n("div",{staticClass:"playerstatustyle"},t._l(t.player_statuslist,(function(e,s){return n("div",{key:s,staticClass:"playerstatusitemtyle",style:"background-image:url("+e.image+")",attrs:{id:"status"+s},on:{mouseenter:function(s){return t.statusmouseenterevent(s,e)},mouseleave:function(s){return t.statusmouseleaveevent(s,e)}}})})),0),n("div",{staticClass:"curtainstyle_2"},t._l(t.num,(function(e,a){return n("svg",{key:e.id,staticClass:"cardstyle",style:"background-image:url("+s(3554)+");z-index:"+(a+1),attrs:{id:"card"+a},on:{mouseenter:function(e){return t.cardmouseenterevent(e,a)},mouseleave:function(e){return t.cardmouseleaveevent(e,a)},click:function(s){return t.cardclickevent(s,e,a)}}},[n("image",{staticClass:"cardbackgroundstyle",attrs:{width:"100%",height:"100%","xlink:href":""+e.plate}}),n("def",[n("path",{attrs:{id:"pt1",d:"M5 18 L40 18",fill:"none"}})]),n("foreignObject",{staticClass:"fo1style",attrs:{x:"0",y:"0",width:"100%",height:"100%"}},[n("p",{staticClass:"cardeffectstyle",domProps:{innerHTML:t._s(e.card_effect)}})]),n("image",{attrs:{x:"0",y:"0",width:"100%",height:"20%","xlink:href":e.decorate}}),n("line",{attrs:{x1:"5%",y1:"23%",x2:"5%",y2:"90%",stroke:e.line_color,"stroke-width":"1"}}),n("text",[t.playing_order_show?n("textPath",{staticClass:"playing_order",attrs:{fill:"black","xlink:href":"#pt1"}},[t._v(t._s(0==t.playing_order[a]?"":t.playing_order[a]))]):t._e()])],1)})),0),n("div",{staticClass:"outcardstyle",on:{click:t.outcard}},[t._v("出 牌")]),n("div",{staticClass:"messagestyle"},t._l(t.msglist,(function(e,s){return n("p",{key:s,staticClass:"msgitemstyle",domProps:{innerHTML:t._s(e)}})})),0),t._m(1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"monster_blood_volume_4"},[s("div",{staticClass:"monster_blood_volume_5",attrs:{id:"monster_blood_volume_5"}}),s("div",{staticClass:"monster_blood_volume_6",attrs:{id:"monster_blood_volume_6"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"playerstyle"},[s("div",{staticClass:"playerhp"}),s("div",{staticClass:"playermp"})])}],l=s(124),c=s(8534);s(1539),s(4747),s(2222);function u(t,e,s){return d.apply(this,arguments)}function d(){return d=(0,c.Z)((0,l.Z)().mark((function t(e,s,n){var a,o;return(0,l.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.getElementsByClassName("curtainstyle_2")[0],o=document.getElementById("card".concat(e)),t.next=4,i.p8.to("#card".concat(e),.2,{zIndex:44,left:a.offsetWidth/2-o.clientWidth/2,top:"-230%",rotateY:"360deg"});case 4:return t.abrupt("return",m(s,n));case 5:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function m(t,e){switch(t.type){case"基础卡":return{msg:'您对<span style="color:#c000ffd1;font-size:25px;font-family:Hywb"> '.concat(e,' </span>造成<span style="color:red"> ').concat(t.value," </span>点伤害!"),value:t.value};default:break}}var p=s(4806),f=s.n(p),h=s(6955),_={data:function(){return{monster_name:"羽蛇神",hp:1e6,current_hp:1e6,num:[{type:"基础卡",id:1,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:2,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:3,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:4,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:5,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:6,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100},{type:"基础卡",id:7,plate:s(6665),decorate:s(1585),line_color:"#00a6ff",card_effect:"对敌方造成<span style='color:red'>100</span>点基础伤害",value:100}],playing_order:[0,0,0,0,0,0,0],clearcarlist:[],selectcard:0,stacknum:0,stacklist:[],playing_order_show:!0,zIndex:0,msglist:[],message:"",player_statuslist:[{titlecolor:"#C60000",name:"超新星爆炸",image:s(7540)},{titlecolor:"#6600C6",name:"玄冥星系",image:s(5966)},{titlecolor:"#3EA300",name:"万物天生",image:s(2027)}],allow:!1,start_end:!1}},watch:{num:function(t,e){var s=this;if(t.length<=7)t.forEach((function(t,e){s.$nextTick((function(){document.getElementById("card".concat(e)).style.left=140*e+"px"}))}));else{var n=document.getElementsByClassName("curtainstyle_2")[0].offsetWidth,a=8==t.length?0:(120*t.length-n)/(t.length-1);t.forEach((function(t,e){s.$nextTick((function(){e>0&&(document.getElementById("card".concat(e)).style.left=(120-a)*e+"px")}))}))}},player_statuslist:function(t,e){var s=this;t.forEach((function(t,e){s.$nextTick((function(){e>0&&(document.getElementById("status".concat(e)).style.left=60*e+"px")}))}))},msglist:function(t,e){this.$nextTick((function(){document.getElementsByClassName("messagestyle")[0].scrollTop=document.getElementsByClassName("messagestyle")[0].scrollHeight}))},current_hp:function(t,e){var s=this,n=document.getElementsByClassName("monster_blood_volume_1")[0],a=document.getElementsByClassName("monster_blood_volume_2")[0];a.style.width="".concat(t/this.hp*100,"%"),setTimeout((function(){n.style.width="".concat(t/s.hp*100,"%")}),200),this.$nextTick((function(){s.msglist.push(s.message)}))},start_end:function(t,e){if(0==t){this.playing_order=[],this.num=f().differenceWith(this.num,this.clearcarlist);for(var s=0;s<this.num.length;s++)this.playing_order.push(0)}}},mounted:function(){var t=this;this.num.forEach((function(e,s){t.$nextTick((function(){s>0&&(s==t.num.length-1&&(t.allow=!0),i.p8.to("#card".concat(s),.5,{left:140*s}))}))})),this.player_statuslist.forEach((function(e,s){t.$nextTick((function(){s>0&&(document.getElementById("status".concat(s)).style.left=60*s+"px")}))})),this.$nextTick((function(){i.p8.to("#curtainstyle_1",1,{transform:"scale(1,1)"}),i.p8.to("#monster_blood_volume_1",1,{width:"100%"}),i.p8.to("#monster_blood_volume_2",1,{width:"100%"}),i.p8.to("#monster_blood_volume_5",1,{width:"100%"}),i.p8.to("#monster_blood_volume_6",1,{width:"100%"})}))},methods:{outcard:function(){var t=this;if(0==this.selectcard)return this.stacknum=0,this.start_end=!1,!1;this.start_end=!0,this.selectcard-=1,this.stacknum+=1;var e=this.playing_order.indexOf(this.stacknum);u(e,this.num[e],this.monster_name).then(function(){var s=(0,c.Z)((0,l.Z)().mark((function s(n){return(0,l.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.clearcarlist.push(t.num[e]),t.current_hp-=n.value,t.message=n.msg,s.next=5,i.p8.to("#card".concat(t.playing_order.indexOf(t.stacknum)),.2,{delay:.6,opacity:0,onComplete:function(){t.playing_order[t.playing_order.indexOf(t.stacknum)]=0,t.outcard()}});case 5:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}())},cardmouseenterevent:function(t,e){this.zIndex=document.getElementById("card".concat(e)).style.zIndex,document.getElementById("card".concat(e)).style.zIndex=44},cardmouseleaveevent:function(t,e){document.getElementById("card".concat(e)).zIndex=this.zIndex},statusmouseenterevent:function(t,e){(0,h.Ud)(document.getElementById("curtainstyle"),e),i.p8.to("#"+t.target.id,10,{rotate:"360deg"})},statusmouseleaveevent:function(t,e){(0,h.Ud)(document.getElementById("curtainstyle"),e),i.p8.killTweensOf(t.target),i.p8.to("#"+t.target.id,.2,{rotate:"0deg"})},cardclickevent:function(t,e,s){if(1==this.start_end)return!1;this.playing_order_show=!1;var n=this.playing_order[s];if(0==this.playing_order[s])this.selectcard+=1,document.getElementById("card".concat(s)).style.boxShadow="0px 0px 5px 5px ".concat(e.line_color),this.playing_order[s]=Math.max.apply(null,this.playing_order)+1;else{this.selectcard-=1,document.getElementById("card".concat(s)).style.boxShadow="",this.playing_order[s]=0;for(var a=0;a<this.playing_order.length;a++)0!==this.playing_order[a]&&this.playing_order[a]>n&&(this.playing_order[a]=this.playing_order[a]-1)}this.playing_order_show=!0}}},y=_,g=s(1001),v=(0,g.Z)(y,o,r,!1,null,"2f844304",null),x=v.exports,k={components:{BattlePicture:x},name:"CombatMain",data:function(){return{list:[],audio:null,showBattle:!1,cardshow:!1}},mounted:function(){this.init()},methods:{routerEvent:function(t){this.$router.push({name:t})},init:function(){this.list=[];for(var t=1;t<=30;t++)t<=10&&(1==Math.round(Math.random())?this.list.push(t):this.list.push(0)),t>10&&t<21&&(-1==this.list.indexOf(t-10)||1==Math.round(Math.random())?this.list.push(t):this.list.push(0)),t>20&&(-1==this.list.indexOf(t-10)?this.list.push(t):-1!==this.list.indexOf(t-10)&&-1!==this.list.indexOf(t-20)?1==Math.round(Math.random())?this.list.push(t):this.list.push(0):-1!==this.list.indexOf(t-10)&&-1==this.list.indexOf(t-20)&&this.list.push(t))},showDeck:function(t,e){var s=this;0==this.cardshow&&(this.cardshow=!0,i.p8.to("#back".concat(e),.5,{backgroundPosition:"-200% 50%,50% 50%",onComplete:function(){s.showBattle=!0}}))}}},b=k,C=(0,g.Z)(b,n,a,!1,null,"94e77d06",null),w=C.exports},1585:function(t,e,s){t.exports=s.p+"assets/img/decorate_2.00f5c754.svg"},6665:function(t,e,s){t.exports=s.p+"assets/img/playcard1.7fbaea3e.svg"},2906:function(t,e,s){t.exports=s.p+"assets/img/2-ai.29c657f3.svg"},3554:function(t,e,s){t.exports=s.p+"assets/img/4-ai.cd2d7f8d.svg"},1940:function(t,e,s){t.exports=s.p+"assets/img/card_7_a.573af639.webp"},6523:function(t,e,s){t.exports=s.p+"assets/img/deck_back_4_a.ac04f942.png"},7346:function(t,e,s){t.exports=s.p+"assets/img/home_image_2_a.718f4af1.png"},6335:function(t,e,s){t.exports=s.p+"assets/img/monster1.989ace07.png"},7540:function(t,e,s){t.exports=s.p+"assets/img/status1.5dfc9214.png"},5966:function(t,e,s){t.exports=s.p+"assets/img/status2.99c4e072.png"},2027:function(t,e,s){t.exports=s.p+"assets/img/status3.ae7abf27.png"}}]);
//# sourceMappingURL=588-legacy.a102a077.js.map